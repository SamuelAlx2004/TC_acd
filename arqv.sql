-- CRIANDO TABELAS
CREATE TABLE T_CLIENTES (
CLIENTEID INT PRIMARY KEY,
NOME VARCHAR(50) NOT NULL,
EMAIL VARCHAR2(50),
DATA_NASCIMENTO DATE,
CIDADE VARCHAR2(50)
); 

CREATE TABLE PEDIDOS (
PEDIDOID INT PRIMARY KEY,
DATA_PEDIDO DATE NOT NULL,
CLIENTEID INT,
VALOR NUMBER(10,2),
FOREIGN KEY (CLIENTEID)
REFERENCES T_CLIENTES(CLIENTEID)
);

CREATE TABLE PRODUTOS (
PRODUTOID INT PRIMARY KEY,
NOMEPRODUTO VARCHAR2(100) NOT NULL,
PRECO NUMBER(10,2) NOT NULL
);

CREATE TABLE ITENSPEDIDO (
ITEMID INT PRIMARY KEY,
PEDIDOID INT,
PRODUTOID INT,
QUANTIDADE INT NOT NULL,
FOREIGN KEY (PEDIDOID) REFERENCES PEDIDOS(PEDIDOID),
FOREIGN KEY (PRODUTOID) REFERENCES PRODUTOS(PRODUTOID)
);

-- INSERINDO DADOS
INSERT INTO T_CLIENTES
VALUES (1,'JOÃO SILVA','JOÃO.SILVA@EXAMPLE.COM',TO_DATE('15-06-1985', 'DD-MM-YYYY'),'SÃO PAULO');

INSERT INTO T_CLIENTES
VALUES (2,'MARIA OLIVEIRA','MARIA.OLIVEIRA@EXAMPLE.COM',TO_DATE('22-08-1990', 'DD-MM-YYYY'),'RIO DE JANEIRO');

INSERT INTO T_CLIENTES
VALUES (3,'PEDRO SANTOS','PEDRO.SANTOS@EXAMPLE.COM',TO_DATE('30-11-1982', 'DD-MM-YYYY'), 'BELO HORIZONTE');

INSERT INTO PRODUTOS
VALUES(1,'NOTEBOOK','2500.00');

INSERT INTO PRODUTOS
VALUES(2,'SMARTPHONE',1500);

INSERT INTO PRODUTOS
VALUES(3,'TABLET',1200.00);

INSERT INTO PEDIDOS
VALUES (1,TO_DATE('10-01-2024','DD-MM-YYYY'),1,2500.00);

INSERT INTO PEDIDOS
VALUES (2,TO_DATE('11-01-2024','DD-MM-YYYY'),2,1500.00);

INSERT INTO PEDIDOS
VALUES(3,TO_DATE('12-01-2024','DD-MM-YYYY'),3,1200.00);

INSERT INTO ITENSPEDIDO
VALUES (1,1,1,1);

INSERT INTO ITENSPEDIDO
VALUES (2,2,2,1);

INSERT INTO ITENSPEDIDO
VALUES (3,3,3,1);

SELECT * FROM T_CLIENTES
LEFT JOIN PEDIDOS ON T_CLIENTES.CLIENTEID = PEDIDOS.CLIENTEID;
